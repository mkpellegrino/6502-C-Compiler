void main()
{
  asmcomment( "LEVEL 1 SPRITES" );
  uint status = 0x00;
  
  data spritedata =
    {
      // Which sprites are Multicoloured (0xD01C)
      // Universal Colours (0xD025)
      //                   (0xD026)
      // Individual COLOURS 0-7
      0x37, 0x0F, 0x00,      0x09, 0x09, 0x09, 0x07, 0x02, 0x0A, 0x0C, 0x00, 

      // PLAYER
      // STANDING 32
      0, 204, 192, 128, 255, 192, 128, 213, 192, 128, 221, 192, 128, 255, 192, 128,  63,   0,  32,  63,   0, 32,  12,   0,  32,  85,  64,  53, 110,  80,  32, 123,  68,   8,  29,   4,   8,  25,   4,   8,  29, 208, 8,  21,   0,   8,  55,   0,   2,  51,   0,   2,  51,   0,   2,  51,   0,   2,  51,   0,   2,  81,  64, 0,

      // WALKINGUP0 33
      0, 204, 194,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0,  63,   2,   0,  63,   2, 0,  12,   2,   0,  85,  66,   1,  85,  87,   1,  85,  66,   1,  21,   2,   1,  21,   2,   1,  21,   2,
      1,  21,   2,   3,  55,   2,   0,  51,   2,   0,  51,   2,   0,  48,   2,   0,  48,   2,   0,  16,   2, 0,
      
      // WALKINGUP1 34
      0, 204, 192,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0,  63,   2,   0,  63,   2, 0,  12,   2,   0,  85,  66,   1,  85,  87,   1,  85,  66,   1,  21,   2,   1,  21,   2,   3,  21,   2, 0,  21,   2,   0,  55,   2,   0,  51,   2,   0,  51,   2,   0,  51,   2,   0,  48,   0,   0,  16,   0, 0,
      // WALKINGUP2 35
      0,   0,   0,   0, 204, 192,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0,  63,   2,   0,  63,   2, 0,  12,   2,   0,  85,  66,   1,  85,  87,   1,  85,  66,   1,  21,   2,   0,  21,   2,   0,  21,   2, 0,  21,   2,   0,  55,   2,   0,  51,   2,   0,   3,   2,   0,   3,   0,   0,   3,   0,   0,   1,   0, 0,

      // WALKINGUP3 36
      0,   0,   0,   0, 204, 192,   0, 255, 194,   0, 255, 194,   0, 255, 194,   0,  63,   2,   0,  63,   2, 0,  12,   2,   0,  85,  66,   1,  85,  87,   1,  85,  66,   1,  21,   2,   1,  21,   2,   3,  21,   2, 0,  21,   2,   0,  55,   2,   0,  51,   2,   0,  51,   2,   0,  51,   0,   0,   3,   0,   0,   1,   0, 0,

      // WALKINGDOWN0 37
     32, 204, 192,  32, 255, 192,  32, 213, 192,  32, 221, 192,  32, 255, 192,  32,  63,   0,  32,  63,   0, 32,  12,   0,  32,  85,  64,  53, 110,  80,  32, 123,  80,  32,  29,  16,  32,  25,  16,  32,  29,  16,  32,  21,  16,  32,  55,  48,  32,  51,   0,  32,  51,   0,  32,   3,   0,  32,   3,   0,  32,   1,   0, 0,
     

      // WALKINGDOWN1 38
     0, 204, 192,  32, 255, 192,  32, 213, 192,  32, 221, 192,  32, 255, 192,  32,  63,   0,  32,  63,   0, 32,  12,   0,  32,  85,  64,  53, 110,  80,  32, 123,  80,  32,  29,  16,  32,  25,  16,  32,  29,  48, 32,  21,   0,  32,  55,   0,  32,  51,   0,  32,  51,   0,  32,  51,   0,   0,   3,   0,   0,   1,   0, 0,

     // WALKINGDOWN2 39
      0,   0,   0,   0, 204, 192,  32, 255, 192,  32, 213, 192,  32, 221, 192,  32,  63,   0,  32,  63,   0, 32,  12,   0,  32,  85,  64,  53, 110,  80,  32, 123,  80,  32,  29,  16,  32,  25,   0,  32,  29,   0, 32,  21,   0,  32,  55,   0,  32,  51,   0,  32,  48,   0,   0,  48,   0,   0,  48,   0,   0,  16,   0, 0,

     // WALKINGDOWN3 40
     0, 0, 0, 0, 204, 192, 32, 255, 192, 32, 213, 192, 32, 221, 192, 32, 63, 0, 32, 63, 0, 32, 12, 0, 32, 85, 64, 53, 110, 80, 32, 123, 80, 32, 29, 16, 32, 25, 16, 32, 29, 48, 32, 21, 0, 32, 55, 0, 32, 51, 0, 32, 51, 0, 0, 51, 0, 0, 48, 0, 0, 16, 0, 0,

     // WALKINGLEFT 0 41
     0, 204, 0, 0, 252, 0, 0, 124, 0, 0, 252, 0, 0, 252, 0, 128, 60, 0, 128, 240, 0, 128, 16, 0, 32, 84, 0, 32, 84, 0, 35, 116, 0, 12, 92, 0, 8, 87, 0, 8, 84, 192, 8, 84, 0, 2, 112, 0, 2, 124, 0, 2, 76, 0, 1, 79, 0, 5, 131, 0, 1, 140, 0, 0,

     // WALKINGLEFT 1 42
     0, 0, 0, 0, 204, 0, 0, 252, 0, 0, 124, 0, 0, 252, 0, 0, 252, 0, 0, 60, 0, 0, 240, 0, 8, 84, 0, 8, 116, 0, 2, 116, 0, 2, 116, 0, 0, 116, 0, 0, 212, 0, 3, 84, 0, 0, 96, 0, 0, 120, 0, 0, 120, 0, 0, 78, 0, 1, 14, 0, 5, 60, 128, 0,
     
     // WALKINGLEFT 2 43
     0, 204, 0, 0, 252, 0, 0, 124, 0, 0, 252, 0, 0, 252, 0, 0, 60, 0, 0, 240, 0, 0, 16, 0, 0, 84, 0, 0, 84, 0, 0, 116, 0, 3, 212, 2, 12, 87, 40, 0, 86, 192, 0, 84, 0, 2, 176, 0, 0, 244, 0, 0, 196, 0, 3, 197, 0, 15, 1, 0, 3, 4, 0, 0,


     // WALKINGRIGHT 0 44
     0, 51, 0, 0, 63, 0, 0, 61, 0, 0, 63, 32, 0, 63, 32, 0, 60, 32, 0, 15, 32, 0, 4, 48, 0, 21, 224, 0, 23, 8, 0, 29, 8, 0, 21, 8, 0, 213, 8, 3, 21, 8, 0, 21, 8, 0, 12, 2, 0, 31, 2, 0, 19, 2, 0, 83, 194, 0, 64, 242, 0, 16, 194, 0,

     // WALKINGRIGHT 1 45
     0, 0, 0, 0, 51, 0, 0, 63, 0, 0, 61, 0, 0, 63, 0, 0, 63, 0, 0, 60, 0, 0, 15, 0, 0, 21, 32, 0, 29, 32, 0, 29, 128, 0, 29, 128, 0, 30, 0, 0, 23, 0, 0, 25, 0, 0, 9, 0, 0, 45, 0, 0, 45, 0, 0, 177, 0, 0, 176, 64, 2, 60, 80, 0,

     // WALKINGRIGHT 2 46
     0, 51, 0, 0, 63, 0, 0, 61, 0, 0, 63, 0, 0, 63, 0, 0, 60, 0, 0, 15, 0, 0, 4, 0, 0, 21, 0, 0, 21, 0, 0, 29, 192, 128, 53, 48, 40, 213, 0, 3, 149, 0, 0, 41, 0, 0, 14, 128, 0, 61, 0, 0, 49, 0, 0, 241, 64, 0, 192, 80, 0, 48, 64, 0,

     // LUNGER 47
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 51, 0, 0, 63, 0, 0, 61, 0, 0, 63, 0, 0, 60, 0, 0, 15, 0, 0, 20, 58, 0, 126, 176, 42, 167, 192, 13, 21, 0, 0, 21, 0, 0, 21, 0, 0, 31, 0, 0, 19, 0, 0, 19, 0, 0, 64, 192, 0, 64, 192, 0, 80, 240, 0,

     // LUNGEL 48
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 204, 0, 0, 252, 0, 0, 124, 0, 0, 252, 0, 0, 60, 0, 0, 240, 0, 176, 20, 0, 14, 124, 0, 3, 87, 168, 0, 84, 240, 0, 84, 0, 0, 84, 0, 0, 84, 0, 0, 196, 0, 0, 196, 0, 3, 1, 0, 3, 1, 0, 15, 5, 0, 0,

     // MONSTER
     
     // ARIGHT0 49
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 63, 0, 0, 63, 0, 0, 59, 0, 0, 58, 0, 0, 58, 0, 0, 56, 0, 0, 223, 0, 0, 219, 0, 48, 214, 0, 14, 213, 128, 9, 21, 32, 0, 127, 0, 0, 63, 0, 0, 255, 192, 0, 243, 192, 3, 192, 240, 3, 240, 252, 0,
     // ARIGHT1 50
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 63, 0, 0, 63, 0, 0, 59, 0, 0, 58, 0, 0, 58, 0, 0, 56, 0, 0, 223, 0, 0, 219, 4, 0, 217, 16, 0, 217, 64, 0, 25, 0, 0, 59, 0, 0, 255, 0, 0, 63, 0, 0, 63, 0, 0, 63, 0, 0, 63, 192, 0,
  // ARIGHT2 51
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 63, 16, 0, 63, 16, 0, 59, 16, 0, 58, 16, 0, 58, 16, 0, 56, 16, 0, 223, 16, 0, 219, 16, 0, 229, 16, 0, 149, 148, 2, 21, 32, 0, 63, 48, 0, 63, 0, 0, 255, 192, 0, 243, 192, 3, 192, 240, 3, 240, 252, 0, 
  // ALEFT0 52
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 48, 0, 0, 252, 0, 0, 252, 0, 0, 236, 0, 0, 172, 0, 0, 172, 0, 0, 44, 0, 0, 247, 0, 0, 231, 0, 0, 91, 0, 2, 86, 112, 8, 84, 176, 0, 253, 64, 0, 245, 0, 3, 215, 0, 3, 95, 0, 13, 67, 192, 63, 15, 192, 0,
  // ALEFT1 53
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 48, 0, 0, 252, 0, 0, 252, 0, 0, 236, 0, 0, 172, 0, 0, 172, 0, 0, 44, 0, 0, 247, 0, 16, 231, 0, 4, 103, 0, 1, 103, 0, 0, 100, 0, 0, 236, 0, 0, 255, 0, 0, 252, 0, 0, 252, 0, 0, 252, 0, 3, 252, 0, 0,
  // ALEFT2 54
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 48, 0, 4, 252, 0, 4, 252, 0, 4, 236, 0, 4, 172, 0, 4, 172, 0, 4, 44, 0, 4, 247, 0, 4, 231, 0, 4, 151, 0, 22, 86, 0, 8, 84, 128, 12, 252, 0, 0, 252, 0, 3, 255, 0, 15, 207, 0, 15, 3, 192, 63, 15, 192, 0,
  // AWALKUP0 55
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 0, 4, 255, 192, 4, 255, 192, 4, 255, 192, 4, 191, 128, 4, 46, 0, 4, 221, 192, 4, 221, 192, 6, 93, 96, 6, 93, 96, 10, 85, 104, 8, 255, 200, 12, 255, 200, 0, 243, 192, 0, 243, 192, 0, 243, 192, 0, 240, 0, 0, 240, 0, 0,
  // AWALKUP1 56
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 255, 192, 0, 255, 192, 0, 255, 192, 0, 191, 128, 0, 46, 0, 0, 221, 192, 0, 221, 192, 6, 93, 96, 6, 93, 96, 10, 85, 96, 4, 255, 192, 12, 255, 192, 0, 243, 192, 0, 243, 192, 0, 243, 192, 0, 3, 192, 0, 3, 192, 0,
  // AWALKDOWN0 57
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252, 0, 3, 255, 0, 3, 255, 0, 2, 238, 0, 2, 170, 16, 0, 168, 16, 3, 87, 16, 3, 119, 16, 11, 87, 144, 9, 117, 144, 9, 85, 144, 35, 255, 32, 35, 255, 16, 3, 207, 48, 3, 207, 0, 3, 207, 0, 3, 192, 0, 3, 192, 0, 0, 
  // AWALKDOWN1 58
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252, 0, 3, 255, 0, 3, 255, 0, 2, 238, 0, 2, 170, 0, 0, 168, 0, 3, 87, 0, 3, 119, 0, 11, 87, 128, 9, 117, 144, 9, 85, 32, 3, 255, 32, 3, 255, 16, 3, 207, 48, 3, 207, 0, 3, 207, 0, 0, 15, 0, 0, 15, 0, 0, 

  // ALUNGEL 59
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 15, 192, 0, 14, 192, 0, 10, 192, 0, 10, 192, 0, 7, 192, 0, 77, 192, 85, 106, 64, 0, 69, 64, 0, 63, 192, 0, 63, 192, 0, 60, 252, 0, 252, 252, 0, 
  // ALUNGER 60
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 0, 3, 240, 0, 3, 176, 0, 3, 160, 0, 3, 160, 0, 3, 208, 0, 3, 113, 0, 1, 185, 85, 1, 177, 0, 2, 252, 0, 2, 252, 0, 63, 60, 0, 63, 63, 0, 0,
  
  // TREASURE 61
  96, 0, 0, 240, 48, 0, 240, 120, 0, 96, 120, 48, 0, 48, 120, 0, 0, 120, 12, 0, 48, 30, 48, 0, 30, 120, 0, 12, 120, 0, 0, 48, 96, 24, 0, 240, 60, 6, 240, 60, 15, 96, 24, 15, 0, 0, 6, 0, 0, 192, 0, 49, 227, 6, 121, 231, 143, 120, 199, 143, 48, 3, 6, 0,

  // HEALTHPACK 62
  63, 255, 252, 213, 85, 87, 213, 85, 87, 213, 85, 87, 213, 85, 87, 213, 105, 87, 213, 105, 87, 213, 105, 87, 213, 105, 87, 214, 170, 151, 214, 170, 151, 214, 170, 151, 213, 105, 87, 213, 105, 87, 213, 105, 87, 213, 105, 87, 213, 85, 87, 213, 85, 87, 213, 85, 87, 213, 85, 87, 63, 255, 252, 0,

  // PRINCESS 63
  192, 0, 12, 131, 51, 8, 131,
  255, 8, 131, 87, 8, 131, 119,
  8, 35, 255, 32, 8, 252, 128,
  2, 254, 0, 0, 152, 0, 0,
  168, 0, 0, 168, 0, 0, 252,
  0, 0, 168, 0, 10, 170, 128,
  42, 170, 160, 42, 170, 160, 170,
  170, 168, 170, 170, 168, 0, 68,
  0, 0, 68, 0, 3, 207, 0,

  0x00,

  // the key (mono)
  48, 0, 0,72, 0, 0,135,
  255, 128,133, 85, 0,72, 81,
  0,49, 219, 128,0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0,
  0 };


  

  word writeaddr = spritedata;
  printf( "WRITING SPRITES1\n");
  setfilename( "SPRITES1,S,W" );
  setlfs( 3, 8, 3 );
  fopen();
  fchkout( 3 );
  
  for( word i = 0x0000; i < 0x0840; i = i + 0x0001 )
    {
      
      fchrout( peek( writeaddr + i ) );
    }
  
  fclose(3);
  fclrchn();

  asmcomment( "LEVEL 1 WORLD" );

  // N E S W

  // 0 = nothing           9 =         
  // 1 = door             10 =
  // 2 = armour           11 = painting 2
  // 3 = torches          12 = Fleur-de-lis
  // 4 = window           13 = Shield
  // 6 = steal your face  14 = Chains
  // 7 = painting         15 = Closed Door
  // 8 =                  16 = Shop
  
  // 1 - haven't visited yet (0x80)
  // 1 - monster is in room (0x40...)
  // 1 - treasure (0x20)
  // 1 - health pack (0x10)
  // 1 - key (0x08)
  // 1 - 
  // 1 - 
  // 1 - princess (0x01)

  data level1world =
    {
      0, 2, 0, 0,      4, 3, 15, 3, 16,    0,   0x18,  // 1

      //20, 3, 6, 1,      1, 3, 6, 3, 14,    1,   0x98, // 2
      0, 3, 6, 1,      4, 3, 6, 3, 14,    1,   0xF0, // 2
      //0, 5, 7, 2,      3, 4, 3, 14, 3,    3,   0x81, // 3
      0, 5, 7, 2,      3, 4, 3, 14, 3,    3,   0xC0, // 3

      0, 0, 8, 0,      4, 3, 14, 3, 4,    5,   0x82, // 4

      0, 6, 10, 3,     2, 3, 7, 3, 2,    4,   0xF0, // 5
      2, 7, 0, 5,      0x0F, 3, 12, 12, 12,   0,   0xE8, // 6
      3, 8, 11, 6,     7, 13, 1, 13, 11,   3,   0x90, // 7
      4, 0, 0, 7,      3, 14, 3, 13, 1,   2,   0xE0, // 8
      
      0, 10, 13, 0,    2, 3, 2, 3, 2,   2,   0xD0, // 9
      7, 11, 0, 9,     0, 2, 1, 3, 14,   0,   0xF0, // 10
      0, 12, 15, 10,   2, 3, 0, 3, 2,   2,   0xD0, // 11
      0, 0, 0, 8,      2, 0, 2, 0, 3,   0,   0xE0, // 12
      
      9, 14, 0, 16,    3, 1, 3, 14, 3,   0,   0xF0, // 13
      0, 0, 18, 17,    2, 2, 2, 2, 3,   5,   0xE0, // 14
      11, 16, 0, 0,    3, 3, 3, 3, 2,   4,   0xD0, // 15
      0, 13, 0, 15,    2, 3, 3, 2, 3,   3,   0xE0, // 16

      13, 0, 0, 0,     3, 1, 2, 2, 3,   0,   0xD8, // 17
      14, 19, 0, 0,    2, 2, 4, 4, 1,   0,   0xF0, // 18
      0, 20, 0, 18,    2, 14, 2, 14, 2,   0,   0xD0, // 19
      0, 0, 0, 19,     3, 2, 6, 3, 14,   0,   0xC1, // 20

      // currently unused rooms
      0, 23, 0, 0, 2, 1, 2, 0, 0,   0,   0xD0, // 21
      0, 23, 0, 21, 2, 3, 2, 3, 2,   0,   0xE0, // 22
      0, 0, 0, 22,  3, 2, 3, 2, 3,   0,   0xFF // 23
    };

  printf("WRITING WORLD1 LAYOUT\n");
  setfilename( "WORLD1,S,W" );
  setlfs( 3, 8, 3 );
  fopen();
  fchkout( 3 );
  writeaddr = level1world;

  for(  i = 0x0000; i < 0x00FD; i = i + 0x0001 )
    {
      fchrout( peek( writeaddr + i ) );
    }
  
  fclose(3);
  fclrchn();

  printf( "DONE WRITING.\nNOW VERIFYING\n" );

  status = 0x00;
  setfilename( "SPRITES1,S,R" );
  setlfs( 3, 8, 3 );
  fopen();
  fchkin( 3 );

  poke( 0xD01C, fchrin() );
  poke( 0xD025, fchrin() );
  poke( 0xD026, fchrin() );
  for( uint general8bit = 0x00; general8bit < 0x08; inc( general8bit ))
    {
      spritecolour(general8bit, fchrin() );
    }
  word saddr = 0x3000;
  
  while( status == 0x00 )
    {    
      poke( saddr, fchrin() );
      saddr = saddr + 0x0001;
      status = peek( 0x0090 );
    }
  fclose(3);
  fclrchn();

  spriteset( 0xFF );
  spritexy( 0x00, 0x0040, 0x40 );
  spritexy( 0x01, 0x0040, 0x80 );
  spritexy( 0x02, 0x0080, 0x40 );
  spritexy( 0x03, 0x0080, 0x80 );
  spritexy( 0x04, 0x00C0, 0x40 );
  spritexy( 0x05, 0x00C0, 0x80 );
  spritexy( 0x06, 0x0100, 0x40 );
  spritexy( 0x07, 0x0100, 0x80 );
  
  poke( 2041, 192 );
  poke( 2042, 209 );
  poke( 2043, 221 );
  poke( 2044, 222 );
  poke( 2045, 223 );
  poke( 2046, 224 );
  poke( 2047, 225 );
  poke( 2040, 226 );
  printf( "DONE.\n" );


  
  return;
}
